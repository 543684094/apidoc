# 中科云控接口

## 1.用户接口



### 登录模块


#### 1.1登录
**URL**

/api/auth

**请求方法**

POST

**请求参数**

| 参数名       | 类型 | 是否必须 | 参数说明 |
| ------------ | ---- | -------- | -------- |
| Usr_Name     | str  | 是       | 用户名   |
| Usr_Password | str  | 是       | 密码     |

**返回参数**

| 参数名       | 类型    | 参数说明                                                     |
| ------------ | ------- | ------------------------------------------------------------ |
| Usr_Name     | str     |                                                              |
| Usr_ID       | str     | 用户ID                                                       |
| Is_Superuser | boolean |                                                              |
| Is_Firm      | int     |                                                              |
| Display_Mode | int     | 1,2,3;页面展示模式，1厂商派发模式2.内部角色管理模式3.厂商派发+内部角色管理 |

#### 1.2退出登录

**URL**

/api/auth

**请求方法**

DELETE

**请求参数**



**返回参数**



### 用户信息模块
#### 1.3获取系统用户信息
**URL**

/api_2/users

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明               |
| --------------- | ---- | -------- | ---------------------- |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10 |
| Page_Counts     | str  | 否       | 页码，默认0            |
| Search_Where    | str  | 否       | 模糊查询用户名         |

**返回参数**

| 参数名           | 类型 | 参数说明 |
| ---------------- | ---- | -------- |
| id               | int  |          |
| Usr_Name         | str  | 用户ID   |
| Usr_ID           | str  |          |
| Usr_Email        | str  |          |
| Usr_Company      | str  |          |
| Usr_Phone        | str  |          |
| Usr_Description  | str  |          |
| Usr_MQTT_Subject | str  |          |
| Role_Name        | str  |          |
| Usr_Name_Simple  | str  |          |

> 说明
>
> 登录用户的角色为`管理员`时, 返回所有系统用户
>
> 登录用户的角色为`客户`时, 不返回任何信息
>
> 登录用户的角色为`维保``客户经理`时, 返回登录用户的信息

#### 1.4创建系统用户（要有权限）

**URL**

/api_2/users

**请求方法**

POST

**请求参数**

| 参数名            | 类型 | 是否必须 | 参数说明 |
| ----------------- | ---- | -------- | -------- |
| Usr_Name          | str  | 是       | 用户名   |
| Usr_Password      | str  | 是       | 密码     |
| Usr_Email         | str  | 否       |          |
| Usr_MQTT_Password | str  | 否       |          |
| Usr_Phone         | str  | 否       |          |
| Usr_Description   | str  | 否       |          |
| Role_Name         | str  | 是       |          |
| Usr_Name_Simple   | str  | 是       | 用户简称 |

**返回参数**



> 说明
>
> 公司内部管理员添加内部角色用户时用户名不能包含英文大写，内部用户的‘展示模式’、‘所属公司’和内部管理员一致

#### 1.5修改用户个人信息
**URL**

/api_2/users

**请求方法**

PUT

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明 |
| --------------- | ---- | -------- | -------- |
| id              | str  | 是       |          |
| Role_Name       | str  | 是       |          |
| Usr_Name        | str  | 是       |          |
| Usr_Email       | str  | 否       |          |
| Usr_Phone       | str  | 否       |          |
| Usr_Description | str  | 否       |          |
| Usr_Name_Simple | str  | 是       | 用户简称 |

**返回参数**



#### 1.6删除用户(包含客户)
**URL**

/api_2/users

**请求方法**

DELETE

**请求参数**

| 参数名   | 类型 | 是否必须 | 参数说明             |
| -------- | ---- | -------- | -------------------- |
| Usr_Name | str  | 是       | 无法删除管理员用户名 |

**返回参数**



#### 1.7客户批量添加到维保
**URL**

/api_2/maintenance_add_customers

**请求方法**

POST

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明              |
| --------------- | ---- | -------- | --------------------- |
| Usr_Maintenance | str  | 是       | 维保                  |
| Customer_Name   | str  | 是       | 客户名, 多个用’,’相连 |

**返回参数**



#### 1.8客户批量添加到客户经理
**URL**

/api_2/manager_add_customers

**请求方法**

POST

**请求参数**

| 参数名        | 类型 | 是否必须 | 参数说明              |
| ------------- | ---- | -------- | --------------------- |
| Usr_Manager   | str  | 是       | 客户经理              |
| Customer_Name | str  | 是       | 客户名, 多个用’,’相连 |

**返回参数**



#### 1.9获取客户信息
**URL**

/api_2/customers

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明                       |
| --------------- | ---- | -------- | ------------------------------ |
| Per_Page_Counts | str  | 否       |                                |
| Page_Counts     | str  | 否       |                                |
| Search_Where    | str  | 否       | 模糊搜索客户简称和公司和联系人 |
| Usr_Maintenance | str  | 否       | 维保                           |
| Usr_Manager     | str  | 否       | 客户经理                       |

**返回参数**

| 参数名            | 类型 | 参数说明       |
| ----------------- | ---- | -------------- |
| id                | str  |                |
| Usr_Name          | str  | 用户名         |
| Usr_Email         | int  | 客户邮箱       |
| Usr_Contact_Name  | Str  | 客户联系人     |
| Usr_Phone         | str  | 客户电话       |
| Usr_Company_Name  | str  | 客户公司名     |
| Usr_Maintenance   | Str  | 所属维保       |
| Usr_Manager       | str  | 所属客户经理   |
| Usr_Addr_Province | str  | 客户地址（省） |
| Usr_Addr_City     | str  | 客户地址（市） |
| Usr_Manager_Phone | Str  | 客户经理的电话 |
| Usr_Manager_Email | str  | 客户经理的邮箱 |
| Devs_Number       | Int  | 装机数         |
| Usr_Name_Simple   | str    | 客户简称(最大只能6位) |
| Time_Of_Contract  | Datetime  | 签约时间              |
| Electricity_Fees  | str      | 协议电价              |
| Share_Radio       | str   | 分享比                |

> 说明
>
> 登录用户的角色为`管理员`时, 返回所有客户信息
>
> 登录用户的角色为`客户`时, 返回自己的信息
>
> 登录用户的角色为`维保``客户经理`时, 返回自己下面客户的信息



#### 1.10创建客户

**URL**

/api_2/customers

**请求方法**

POST

**请求参数**

| 参数名            | 类型     | 是否必须 | 参数说明              |
| ----------------- | -------- | -------- | --------------------- |
| Usr_Name          | str      | 是       | 用户名                |
| Usr_Password      | str      | 是       | 密码                  |
| Usr_Email         | Str      | 否       | 客户邮箱              |
| Usr_Contact_Name  | Str      | 否       | 客户联系人            |
| Usr_Phone         | Str      | 否       | 客户联系电话          |
| Usr_Company_Name  | str      | 否       | 客户公司名, 不能重复  |
| Usr_Description   | Str      | 否       | 用户描述              |
| Usr_Maintenance   | Str      | 否       | 所属维保              |
| Usr_Manager       | Str      | 否       | 所属客户经理          |
| Usr_Addr_Province | str      | 是       | 所属省                |
| Usr_Addr_City     | str      | 是       | 所属城市              |
| Usr_Name_Simple   | str      | 是       | 客户简称(最大只能6位) |
| Time_Of_Contract  | Datetime | 否       | 签约时间              |
| Electricity_Fees  | str      | 否       | 协议电价              |
| Share_Radio       | str      | 否       | 分享比                |

**返回参数**



#### 1.11修改客户信息
**URL**

/api_2/customers

**请求方法**

PUT

**请求参数**

| 参数名            | 类型     | 是否必须 | 参数说明     |
| ----------------- | -------- | -------- | ------------ |
| id                | int      | 是       |              |
| Usr_Name          | str      | 是       | 用户名       |
| Usr_Email         | Str      | 否       | 客户邮箱     |
| Usr_Contact_Name  | Str      | 否       | 客户联系人   |
| Usr_Phone         | Str      | 否       | 客户联系电话 |
| Usr_Company_Name  | str      | 否       | 客户公司名   |
| Usr_Description   | Str      | 否       | 用户描述     |
| Usr_Maintenance   | Str      | 否       | 所属维保     |
| Usr_Manager       | Str      | 否       | 所属客户经理 |
| Usr_Addr_Province | str      | 是       | 所属省       |
| Usr_Addr_City     | str      | 是       | 所属城市     |
| Usr_Name_Simple   | str      | 是       | 客户简称     |
| Time_Of_Contract  | Datetime | 否       | 签约时间     |
| Electricity_Fees  | str      | 否       | 协议电价     |
| Share_Radio       | str      | 否       | 分享比       |

**返回参数**

| 参数名       | 类型 | 参数说明                                                     |
| ------------ | ---- | ------------------------------------------------------------ |
| Usr_Name     | str  |                                                              |
| Usr_ID       | str  | 用户ID                                                       |
| Is_Superuser | int  |                                                              |
| Is_Firm      | int  |                                                              |
| Display_Mode | int  | 1,2,3;页面展示模式，1厂商派发模式2.内部角色管理模式3.厂商派发+内部角色管理 |

### 用户权限

#### 1.12获取用户权限
**URL**

/api_2/users_permissions

**请求方法**

GET

**请求参数**

| 参数名   | 类型 | 是否必须 | 参数说明 |
| -------- | ---- | -------- | -------- |
| Usr_Name | str  | 是       | 用户名   |

**返回参数**

| 参数名         | 类型 | 参数说明                             |
| -------------- | ---- | ------------------------------------ |
| Home_View      | int  | 首页查看0,1,0表示无权限，1表示有权限 |
| Dev_Add        | int  | 设备创建                             |
| Dev_Modify     | int  | 设备修改                             |
| Dev_Delete     | int  | 设备删除                             |
| Dev_Control    | int  | 设备控制                             |
| Dev_Operator   | int  | 设备算子                             |
| Dev_Distribute | int  | 设备派发                             |
| Measure_Add    | int  | 测点创建                             |
| Measure_Modify | int  | 测点修改                             |
| Measure_Delete | int  | 测点删除                             |
| Data_DevView   | int  | 数据查看                             |
| Data_DevInfo   | int  | 图标分析                             |
| Data_DevPos    | int  | 路径查看                             |
| User_Info      | int  | 用户信息查看                         |
| User_Log       | int  | 用户日志查看                         |
| User_Add       | int  | 用户创建                             |
| User_Modify    | int  | 用户信息修改                         |
| User_Delete    | int  | 用户删除                             |
| Role_Name      | Str  | 角色名                               |
| Alarm_Message  | int  | 报警信息                             |
| Project_Add    |      | 创建项目                             |
| Project_Modify |      | 修改项目                             |
| Project_Delete |      | 删除项目                             |
| Report_View    | int  | 报表查看                             |
| Report_Export  | int  | 报表导出                             |

> 说明
>
> 用户登录成功后和查看用户详细权限时使用



#### 1.13修改用户权限

**URL**

/api_2/users_permissions

**请求方法**

PUT

**请求参数**

| 参数名         | 类型 | 是否必须 | 参数说明                             |
| -------------- | ---- | -------- | ------------------------------------ |
| Usr_Name       | str  | 是       |                                      |
| Home_View      | int  | 否       | 首页查看0,1,0表示无权限，1表示有权限 |
| Dev_Add        | int  | 否       | 设备创建                             |
| Dev_Modify     | int  |          | 设备修改                             |
| Dev_Delete     | int  |          | 设备删除                             |
| Dev_Control    | int  |          | 设备控制                             |
| Dev_Operator   | int  |          | 设备算子                             |
| Dev_Distribute | int  |          | 设备派发                             |
| Measure_Add    | int  |          | 测点创建                             |
| Measure_Modify | int  |          | 测点修改                             |
| Measure_Delete | int  |          | 测点删除                             |
| Data_DevView   | int  |          | 数据查看                             |
| Data_DevInfo   | int  |          | 图标分析                             |
| Data_DevPos    | int  |          | 路径查看                             |
| User_Info      | int  |          | 用户信息查看                         |
| User_Log       | int  |          | 用户日志查看                         |
| User_Add       | int  |          | 用户创建                             |
| User_Modify    | int  |          | 用户信息修改                         |
| User_Delete    | int  |          | 用户删除                             |
| Role_Name      | Str  |          | 角色名                               |
| Alarm_Message  | int  |          | 报警信息                             |
| Project_Add    |      |          | 创建项目                             |
| Project_Modify |      |          | 修改项目                             |
| Project_Delete |      |          | 删除项目                             |
| Report_View    | int  |          | 报表查看                             |
| Report_Export  | int  |          | 报表导出                             |

**返回参数**



### 角色权限

#### 1.14获取角色权限
**URL**

/api_2/roles_permissions

**请求方法**

GET

**请求参数**

| 参数名    | 类型 | 是否必须 | 参数说明             |
| --------- | ---- | -------- | -------------------- |
| Role_Name | str  | 否       | 不填返回所有角色权限 |

**返回参数**

| 参数名           | 类型 | 参数说明                             |
| ---------------- | ---- | ------------------------------------ |
| Role_Name        | str  | 角色名                               |
| Role_Description | str  | 角色描述                             |
| Home_View        | int  | 首页查看0,1,0表示无权限，1表示有权限 |
| Dev_Add          | int  | 设备创建                             |
| Dev_Modify       | int  | 设备修改                             |
| Dev_Delete       | int  | 设备删除                             |
| Dev_Control      | int  | 设备控制                             |
| Dev_Operator     | int  | 设备算子                             |
| Dev_Distribute   | int  | 设备派发                             |
| Measure_Add      | int  | 测点创建                             |
| Measure_Modify   | int  | 测点修改                             |
| Measure_Delete   | int  | 测点删除                             |
| Data_DevView     | int  | 数据查看                             |
| Data_DevInfo     | int  | 图标分析                             |
| Data_DevPos      | int  | 路径查看                             |
| User_Info        | int  | 用户信息查看                         |
| User_Log         | int  | 用户日志查看                         |
| User_Add         | int  | 用户创建                             |
| User_Modify      | int  | 用户信息修改                         |
| User_Delete      | int  | 用户删除                             |
| Role_Name        | Str  | 角色名                               |
| Alarm_Message    | int  | 报警信息                             |
| Project_Add      |      | 创建项目                             |
| Project_Modify   |      | 修改项目                             |
| Project_Delete   |      | 删除项目                             |
| Report_View      | int  | 报表查看                             |
| Report_Export    | int  | 报表导出                             |

#### 1.15添加角色
**URL**

/api_2/roles_permissions

**请求方法**

POST

**请求参数**

| 参数名           | 类型 | 是否必须 | 参数说明                             |
| ---------------- | ---- | -------- | ------------------------------------ |
| Role_Name        | str  |          |                                      |
| Role_Description | str  | 否       | 角色描述                             |
| Home_View        | int  | 否       | 首页查看0,1,0表示无权限，1表示有权限 |
| Dev_Add          | int  | 否       | 设备创建                             |
| Dev_Modify       | int  |          | 设备修改                             |
| Dev_Delete       | int  |          | 设备删除                             |
| Dev_Control      | int  |          | 设备控制                             |
| Dev_Operator     | int  |          | 设备算子                             |
| Dev_Distribute   | int  |          | 设备派发                             |
| Measure_Add      | int  |          | 测点创建                             |
| Measure_Modify   | int  |          | 测点修改                             |
| Measure_Delete   | int  |          | 测点删除                             |
| Data_DevView     | int  |          | 数据查看                             |
| Data_DevInfo     | int  |          | 图标分析                             |
| Data_DevPos      | int  |          | 路径查看                             |
| User_Info        | int  |          | 用户信息查看                         |
| User_Log         | int  |          | 用户日志查看                         |
| User_Add         | int  |          | 用户创建                             |
| User_Modify      | int  |          | 用户信息修改                         |
| User_Delete      | int  |          | 用户删除                             |
| Role_Name        | Str  |          | 角色名                               |
| Alarm_Message    | int  |          | 报警信息                             |
| Project_Add      |      |          | 创建项目                             |
| Project_Modify   |      |          | 修改项目                             |
| Project_Delete   |      |          | 删除项目                             |
| Report_View      | int  |          | 报表查看                             |
| Report_Export    | int  |          | 报表导出                             |

**返回参数**



#### 1.16修改角色权限（包括角色名）
**URL**

/api_2/roles_permissions

**请求方法**

PUT

**请求参数**

| 参数名           | 类型 | 是否必须 | 参数说明                             |
| ---------------- | ---- | -------- | ------------------------------------ |
| Role_Name_Old    | str  | 是       |                                      |
| Role_Name        | str  | 是       |                                      |
| Role_Description | str  | 否       | 角色描述                             |
| Home_View        | int  | 否       | 首页查看0,1,0表示无权限，1表示有权限 |
| Dev_Add          | int  | 否       | 设备创建                             |
| Dev_Modify       | int  |          | 设备修改                             |
| Dev_Delete       | int  |          | 设备删除                             |
| Dev_Control      | int  |          | 设备控制                             |
| Dev_Operator     | int  |          | 设备算子                             |
| Dev_Distribute   | int  |          | 设备派发                             |
| Measure_Add      | int  |          | 测点创建                             |
| Measure_Modify   | int  |          | 测点修改                             |
| Measure_Delete   | int  |          | 测点删除                             |
| Data_DevView     | int  |          | 数据查看                             |
| Data_DevInfo     | int  |          | 图标分析                             |
| Data_DevPos      | int  |          | 路径查看                             |
| User_Info        | int  |          | 用户信息查看                         |
| User_Log         | int  |          | 用户日志查看                         |
| User_Add         | int  |          | 用户创建                             |
| User_Modify      | int  |          | 用户信息修改                         |
| User_Delete      | int  |          | 用户删除                             |
| Role_Name        | Str  |          | 角色名                               |
| Alarm_Message    | int  |          | 报警信息                             |
| Project_Add      |      |          | 创建项目                             |
| Project_Modify   |      |          | 修改项目                             |
| Project_Delete   |      |          | 删除项目                             |
| Report_View      | int  |          | 报表查看                             |
| Report_Export    | int  |          | 报表导出                             |

**返回参数**

> 说明
>
> 未修改角色名时，Role_Name_old和Role_Name相同
>
> 系统默认角色不能修改



#### 1.17删除角色
**URL**

/api_2/roles_permissions

**请求方法**

DELETE

**请求参数**

| 参数名    | 类型 | 是否必须 | 参数说明 |
| --------- | ---- | -------- | -------- |
| Role_Name | str  | 是       |          |

**返回参数**

> 说明
>
> 从删除角色前应跟用户多次确认



## 2.统计接口

#### 2.1用户统计信息
**URL**

/api_2/user_statistics

**请求方法**

GET

**请求参数**

| 参数名        | 类型 | 是否必须 | 参数说明           |
| ------------- | ---- | -------- | ------------------ |
| Province_Name | str  | 否       | 所属省，不传为全国 |

**返回参数**

| 参数名            | 类型 | 参数说明     |
| ----------------- | ---- | ------------ |
| Total_Usrs        | int  | 用户总数     |
| Total_Maintenance | int  | 维保总数     |
| Total_Manager     | int  | 客户经理总数 |
| Total_Customer    | int  | 客户总数     |
| Total_Project     | int  | 项目总数     |

#### 2.2设备状态占比信息
**URL**

/api_2/device_state

**请求方法**

GET

**请求参数**

| 参数名        | 类型 | 是否必须 | 参数说明                  |
| ------------- | ---- | -------- | ------------------------- |
| Owner_Type    | str  | 是       | user:用户名, project:项目 |
| Owner_Name    | Str  | 是       | 指定项目或用户            |
| Province_Name | str  | 否       | 所属省，不传为全国        |

**返回参数**

| 参数名            | 类型 | 参数说明     |
| ----------------- | ---- | ------------ |
| EnergySave_Number | int  | 节能模式数量 |
| PowerFreq_Number  | int  | 工频模式数量 |
| Shutdown_Number   | int  | 设备停机数量 |
| All_Number        | Int  | 设备总数     |



#### 2.3统计型测点数据总量

**URL**

/api_2/statistic_measure_datas

**请求方法**

GET

**请求参数**

| 参数名                 | 类型     | 是否必须 | 参数说明                                                     |
| ---------------------- | -------- | -------- | ------------------------------------------------------------ |
| Date_Type              | str      | 是       | ‘1’-年，‘2’-月，‘3’-天, '4'-小时                             |
| Date_Time              | Datetime | 是       | 按天查,返回一天的总值,按月返回一月的总值                     |
| Owner_Type             | str      | 是       | user:用户名, project:‘项目’dev:设备                          |
| Owner_Name             | Str      | 是       | 多个用’,’相连,传""表示返回所有客户信息(不包含管理员等其他内部用户，前提是Owner_Type是user) |
| Province_Name          | str      | 否       | 取出省份下的所有客户数据进行统计计算, 请求时Owner_Name的长度必须为1 |
| Statistic_Measure_Name | str      | 是       | 测点数据名称,可用名称见下面                                  |

**返回参数**

| 参数名      | 类型 | 参数说明              |
| ----------- | ---- | --------------------- |
| Date_Time   | str  | “2020-01-08 00:00:00” |
| Data_Amount | Str  | 数据                  |
| Owner_Name  | str  | 项目名或用户名或设备  |

`Statistic_Measure_Name`可用名称表

| 名称                     | 说明           |
| ------------------------ | -------------- |
| Cumulative_Power         | 累计耗电量     |
| Electricity_Save         | 节电量         |
| Electricity_Save_Fees    | 节电费用       |
| Revenue_Income           | 收入           |
| Electricity_Rate_Instant | 瞬时节电率     |
| Electricity_Rate_Average | 平均节电率     |
| Standard_Coal            | 标准煤         |
| Carbon_Emission          | 二氧化碳排放量 |
| Online_Duration          | 在线时长       |
| Online_Account           | 在线占比       |



#### 2.4统计型测点数据详细(每月/天/小时)接口

**URL**

/api_2/statistic_measure_datas_detail

**请求方法**

GET

**请求参数**

| 参数名                 | 类型     | 是否必须 | 参数说明                                |
| ---------------------- | -------- | -------- | --------------------------------------- |
| Date_Type              | str      | 是       | ‘1’-年，‘2’-月，‘3’-天                  |
| Start_Time             | Datetime | 是       | 按天查,返回每小时的值,按月,返回每天的值 |
| End_Time               | Datetime | 是       |                                         |
| Owner_Type             | str      | 是       | user:用户名, project:‘项目’dev:设备     |
| Owner_Name             | Str      | 是       | 多个用’,’相连,传‘’表示所有              |
| Province_Name          | str      | 否       | 所属省，不传为全国                      |
| Statistic_Measure_Name | str      | 是       | 测点数据名称,可用名称见下面             |

**返回参数**

| 参数名     | 类型 | 参数说明             |
| ---------- | ---- | -------------------- |
| Details    | str  | 格式看下面           |
| Owner_Name | str  | 项目名或用户名或设备 |

Details格式:

```json
[
    {
	‘Date_Time’:“2020-01-08 00:00:00”,
	‘Data_Amount’:123, 
	},
    ...
]
```



#### 2.5全国各省各市设备状态占比信息

**URL**

/api_2/country_device_state

**请求方法**

GET

**请求参数**



**返回参数**

| 参数名                 | 类型 | 参数说明   |
| ---------------------- | ---- | ---------- |
| Province_Name          | str  | 省名       |
| EnergySave_Number | int  | 节能模式数量 |
| PowerFreq_Number  | int  | 工频模式数量 |
| Shutdown_Number   | int  | 设备停机数量 |
| All_Number        | Int  | 设备总数     |
| City_Device_State_List | list | 格式见下面 |

`City_Device_State_List`格式

[ {

​		"All_Number":6,

​		"EnergySave_Number":1

​		"PowerFreq_Number ":2

​        "Shutdown_Number":3,

​		"City_Name":"常州市", 

​		"City_LNG":"",            # 城市的经度

​		"City_LAT":""              # 城市的纬度

},

]



## 3.项目接口

#### 3.1获取项目信息
**URL**

/api_2/project

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明                           |
| --------------- | ---- | -------- | ---------------------------------- |
| Usr_Name        | str  | 否       | 项目所属用户名称, 不传返回所有项目 |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10             |
| Page_Counts     | str  | 否       | 页码，默认0                        |
| Search_Where    | str  | 否       | 模糊查询项目名                     |

**返回参数**

| 参数名               | 类型 | 参数说明                              |
| -------------------- | ---- | ------------------------------------- |
| id                   | int  | 主键                                  |
| Project_Name         | str  | 项目名称,各工厂的项目名称相互不能重复 |
| Create_Time          | str  | 项目创建时间“2020-01-08 19:55:55”     |
| Project_Location     | Str  | 项目位置                              |
| Project_ID           | int  | 项目ID，用于区分多个项目              |
| Usr_Name             | Str  | 项目所属用户名称                      |
| Dev_Customer_Company | str  | 设备所属客户公司                      |

#### 3.2添加项目
**URL**

/api_2/project

**请求方法**

POST

**请求参数**

| 参数名           | 类型 | 是否必须 | 参数说明 |
| ---------------- | ---- | -------- | -------- |
| Usr_Name         | str  | 是       | 用户名   |
| Project_Name     | str  | 是       |          |
| Project_Location | str  | 是       | 项目位置 |
| Project_ID       | Str  | 是       |          |

**返回参数**

| 参数名 | 类型 | 参数说明 |
| ------ | ---- | -------- |
| id     | int  |          |



#### 3.3修改项目

**URL**

/api_2/project

**请求方法**

PUT

**请求参数**

| 参数名           | 类型 | 是否必须 | 参数说明 |
| ---------------- | ---- | -------- | -------- |
| id               | int  | 是       | 主键     |
| Project_Name     | str  | 是       |          |
| Project_Location | str  | 是       | 项目位置 |
| Project_ID       | Str  | 是       |          |

**返回参数**



#### 3.4删除项目
**URL**

/api_2/project

**请求方法**

Delete

**请求参数**

| 参数名 | 类型 | 是否必须 | 参数说明 |
| ------ | ---- | -------- | -------- |
| id     | str  | 是       | 主键     |

**返回参数**



## 4.设备接口

#### 4.1添加设备
**URL**

/api_2/devs

**请求方法**

POST

**请求参数**

| 参数名       | 类型 | 是否必须 | 参数说明     |
| ------------ | ---- | -------- | ------------ |
| Dev_Name     | str  | 是       | 设备名       |
| Dev_ID       | str  | 是       | 网关的唯一ID |
| Dev_Project  | str  | 否       | 设备所属项目 |
| Gateway_ID   | str  | 否       | 网关ID       |
| Dev_Customer | str  | 否       | 设备所属客户 |

**返回参数**

| 参数名 | 类型 | 参数说明 |
| ------ | ---- | -------- |
| id     | int  | 主键     |



#### 4.2获取设备配置参数
**URL**

/api_2/devs

**请求方法**

POST

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明                 |
| --------------- | ---- | -------- | ------------------------ |
| id              | int  | 否       | 利用id获取单个设备的数据 |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10   |
| Page_Counts     | str  | 否       | 页码，默认0              |
| Search_Where    | str  | 否       | 模糊查询设备名,设备ID    |
| Dev_Project     | Str  | 否       | 所属项目筛选             |
| Dev_Customer    | Str  | 否       | 所属客户筛选             |

**返回参数**

| 参数名               | 类型     | 参数说明                                 |
| -------------------- | -------- | ----------------------------------- |
| id                   | int      | 主键                                     |
| Dev_Name             | Str      | 设备名称                                 |
| Dev_ID               | str      | 设备ID                                   |
| Gateway_ID           | Str      | 网关ID                                   |
| Dev_State            | int      | 设备状态，1:节能，其他:停机，2:旁路 |
| Gateway_State        | str      | 网关状态                                 |
| Dev_Project          | Str      | 设备所属项目                             |
| Dev_Customer         | str      | 设备所属客户                             |
| Dev_Customer_Simple  | str      | 客户简称                                 |
| Producing_Time       | str      | 设备投产时间                             |
| Dev_Customer_Company | str      | 设备所属客户公司                         |
| Billing_Start_Time   | Datetime | 验收时间(在算子里配置)                   |
| Reception_State      | str      | 验收状态                                 |
| Cum_Runtime | str | 累计运行时间(单位h) |



#### 4.3修改设备配置参数

**URL**

/api_2/devs

**请求方法**

PUT

**请求参数**

| 参数名       | 类型 | 是否必须 | 参数说明     |
| ------------ | ---- | -------- | ------------ |
| id           | Int  | 是       | 设备主键id   |
| Dev_Name     | str  | 是       | 设备名       |
| Dev_ID       | str  | 是       | 网关的唯一ID |
| Dev_Project  | str  | 否       | 设备所属项目 |
| Gateway_ID   | str  | 否       | 网关ID       |
| Dev_Customer | str  | 否       | 设备所属客户 |

**返回参数**



#### 4.4删除设备
**URL**

/api_2/devs

**请求方法**

DELETE

**请求参数**

| 参数名 | 类型 | 是否必须 | 参数说明           |
| ------ | ---- | -------- | ------------------ |
| id     | str  | 是       | 主键,多个用’,’隔开 |

**返回参数**



#### 4.5复制设备
**URL**

/api_2/copy_devs

**请求方法**

POST

**请求参数**

| 参数名              | 类型 | 是否必须 | 参数说明   |
| ------------------- | ---- | -------- | ---------- |
| Dev_ID              | str  | 是       | 设备ID     |
| Copy_Number         | int  | 是       | 生成数量   |
| Prefix_Name         | str  | 是       | 前缀名     |
| Suffix_Start_Number | int  | 是       | 后缀起始值 |

**返回参数**



#### 4.6设备批量派发
**URL**

/api_2/distribute_devs

**请求方法**

POST

**请求参数**

| 参数名       | 类型 | 是否必须 | 参数说明                 |
| ------------ | ---- | -------- | ------------------------ |
| Dev_ID       | str  | 是       | 网关唯一，多个用'，'隔开 |
| Dev_Project  | str  | 是       | 设备所属项目             |
| Dev_Customer | str  | 否       | 设备所属客户             |

**返回参数**



#### 4.7获取设备算子相关参数
**URL**

/api_2/device_operator

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明               |
| --------------- | ---- | -------- | ---------------------- |
| Dev_ID          | str  | 否       | 设备ID                 |
| Page_Counts     | str  | 否       | 页码，默认0            |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10 |

**返回参数**

| 参数名             | 类型 | 参数说明                        |
| ------------------ | ---- | ------------------------------- |
| Active_Operator_k  | str  | 总有功算子k                     |
| Active_Operator_b  | str  | 总有功算子b                     |
| Cum_Runtime_k      | str  | 累计运行时间算子k               |
| Cum_Runtime_b      | str  | 累计运行时间算子b               |
| Maintenance_Time   | str  | 本机总维保时间                  |
| PowerConsumption   | str  | 本机工频每小时耗电量            |
| Share_Radio        | str  | 厂区分享比                      |
| Electricity_Fees   | str  | 厂区电费                        |
| Billing_Start_Time | str  | 设备验收时间                    |
| Input_Time         | str  | 本机工频每小时耗电量输入时刻UTC |
| Mutual_Inductance  | str  | 本机互感倍数                    |
| Motor_Power        | str  | 本机电机功率                    |



#### 4.8配置设备算子相关参数

**URL**

/api_2/device_operator

**请求方法**

PUT

**请求参数**

| 参数名             | 类型 | 是否必须 | 参数说明                        |
| ------------------ | ---- | -------- | ------------------------------- |
| Dev_ID             | str  | 是       | 网关唯一ID,多个用’,’隔开        |
| Active_Operator_k  | str  | 是       | 总有功算子k                     |
| Active_Operator_b  | str  | 是       | 总有功算子b                     |
| Cum_Runtime_k      | str  | 是       | 累计运行时间算子k               |
| Cum_Runtime_b      | str  |          | 累计运行时间算子b               |
| Maintenance_Time   | str  |          | 本机总维保时间                  |
| PowerConsumption   | str  |          | 本机工频每小时耗电量            |
| Share_Radio        | str  |          | 厂区分享比                      |
| Electricity_Fees   | str  |          | 厂区电费                        |
| Billing_Start_Time | str  |          | 设备验收时间                    |
| Input_Time         | str  |          | 本机工频每小时耗电量输入时刻UTC |
| Mutual_Inductance  | str  |          | 本机互感倍数                    |
| Motor_Power        | str  |          | 本机电机功率                    |

**返回参数**



#### 4.9获取网关信息
**URL**

/api_2/gateways 

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明               |
| --------------- | ---- | -------- | ---------------------- |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10 |
| Page_Counts     | str  | 否       | 页码，默认0            |
| Search_Where    | str  | 否       | 模糊查询网关名         |

**返回参数**

| 参数名        | 类型 | 参数说明     |
| ------------- | ---- | ------------ |
| id            | int  | 主键         |
| Gateway_Name  | Str  | 网关名       |
| Gateway_ID    | str  | 网关ID       |
| Gateway_State | Str  | 网关状态     |
| Dev_ID        | Str  | 绑定设备的ID |
| Create_Time   | str  |              |



#### 4.10修改网关信息

**URL**

/api_2/gateways

**请求方法**

PUT

**请求参数**

| 参数名       | 类型 | 是否必须 | 参数说明     |
| ------------ | ---- | -------- | ------------ |
| id           | Int  | 是       | 主键id       |
| Gateway_Name | str  | 是       | 网关名       |
| Dev_ID       | str  | 否       | 绑定设备的ID |

**返回参数**



## 5.设备测点接口

#### 5.1添加设备测点

**URL**

/api_2/measurePoints

**请求方法**

POST

**请求参数**

| 参数名               | 类型 | 是否必须 | 参数说明                                |
| -------------------- | ---- | -------- | --------------------------------------- |
| Dev_ID               | str  | 是       | 网关唯一ID                              |
| Measure_Name         | str  | 是       | 测点名                                  |
| MeasureDataFlow_Name | str  | 是       | 数据流名称                              |
| Measure_Unit         | Str  | 否       | 设备单位                                |
| Measure_Type         | int  | 否       | 测点类型，0：网关上传；1：平台计算默认0 |
| Measure_Formula      | str  | 否       | 计算公式,数据类型为1时有效              |
| Data_Type            | str  | 数据类型 | 数据类型UINT32                          |
| Measure_LowerLimit   | int  | 否       | 测点数据下限值，默认为0                 |
| Measure_UpperLimit   | int  | 否       | 测点数据上限值，默认为0                 |
| Measure_Icon_Nomal   | str  | 是       | 图标的URL                               |
| Measure_Icon_Overrun | str  | 是       | 图标的URL,超限                          |

 Data_Type：

| 数据类型 | 字节数量 |
| -------- | -------- |
| UINT32   | 4        |
| Float32  | 4        |
| UINT16   | 2        |
| BOOL     | 1        |
| INT16    | 2        |

**返回参数**

 主键id

#### 5.2获取设备测点配置

**URL**

/api_2/measurePoints

**请求方法**

GET

**请求参数**



| 参数名          | 类型 | 是否必须 | 参数说明                  |
| --------------- | ---- | -------- | ------------------------- |
| Dev_ID          | str  | 是       | 网关唯一ID                |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10    |
| Page_Counts     | str  | 否       | 页码，默认0               |
| Search_Where    | str  | 否       | 模糊查询测点名,数据流名称 |

**返回参数**

| 参数名               | 类型 | 参数说明                                |
| -------------------- | ---- | --------------------------------------- |
| id                   | Int  | 主键id                                  |
| Measure_Name         | str  | 测点名                                  |
| MeasureDataFlow_Name | str  | 数据流名称                              |
| Measure_Unit         | Str  | 设备单位                                |
| Measure_Type         | int  | 测点类型，0：网关上传；1：平台计算默认0 |
| Measure_Formula      | str  | 计算公式,数据类型为1时有效              |
| Data_Type            | str  | 数据类型UINT32                          |
| Measure_State        | str  | 测点状态,根据是否上传数据来定           |
| Is_Unchanged         | int  | 1:系统测点,无法修改和删除               |
| Measure_UpperLimit   | str  |                                         |
| Measure_LowerLimit   | str  |                                         |
| Measure_Icon_Nomal   | str  | 测点图标URL                             |
| Measure_Icon_Overrun | str  | 测点图标URL超限                         |

#### 5.3修改设备测点，修改单个

**URL**

/api_2/measurePoints/ 

**请求方法**

PUT

**请求参数**

| 参数名               | 类型 | 是否必须 | 参数说明                                |
| -------------------- | ---- | -------- | --------------------------------------- |
| id                   | int  | 是       | 主键                                    |
| Measure_Name         | str  | 是       | 测点名                                  |
| MeasureDataFlow_Name | str  | 是       | 数据流名称                              |
| Measure_Unit         | Str  | 否       | 设备单位                                |
| Measure_Type         | int  | 否       | 测点类型，0：网关上传；1：平台计算默认0 |
| Measure_Formula      | str  | 否       | 计算公式,数据类型为1时有效              |
| Data_Type            | str  | 数据类型 | 数据类型UINT32                          |
| Measure_LowerLimit   | str  | 否       | 测点数据下限值，默认为空                |
| Measure_UpperLimit   | str  | 否       | 测点数据上限值，默认为空                |
| Measure_Icon_Nomal   | str  | 是       | 图标的URL                               |
| Measure_Icon_Overrun | str  | 是       | 图标的URL,超限                          |
| Dev_ID               | str  | 是       |                                         |

**返回参数**



#### 5.4删除设备测点

**URL**

/api_2/measurePoints

**请求方法**

DELETE

**请求参数**

| 参数名 | 类型 | 是否必须 | 参数说明             |
| ------ | ---- | -------- | -------------------- |
| id     | str  | 是       | 主键id,多个用’,’隔开 |
| Dev_ID | str  | 是       |                      |

**返回参数**

#### 5.5导入设备测点（excel）

**URL**

/api_2/measurePoints_import

**请求方法**

POST

**请求参数**

| 参数名              | 类型 | 是否必须 | 参数说明     |
| ------------------- | ---- | -------- | ------------ |
| Dev_ID              | str  | 是       |              |
| MeasurePoints_Datas | file | 是       | xlsx格式文件 |

**返回参数**

#### 5.6获取所有图标资源

**URL**

/api_2/icons

**请求方法**

GET

**请求参数**

| 参数名    | 类型 | 参数说明                           |
| --------- | ---- | ---------------------------------- |
| Icon_Name | str  | 图标名称                           |
| Icon_URL  | str  | 图标地址                           |
| Icon_Type | str  | 图标类型，'1'表示蓝色，'0'表示红色 |

**返回参数**

## 6.设备数据接口

#### 6.1获取设备数据实时信息

**URL**

/api_2/measurePointsRT  

**请求方法**

GET

**请求参数**

| 参数名        | 类型 | 是否必须 | 参数说明                                 |
| ------------- | ---- | -------- | ---------------------------------------- |
| Dev_ID        | str  | 是       | 网关唯一ID                               |
| Measure_Names | str  | 否       | 显示测点表，默认所有测点数据，以逗号隔开 |

**返回参数**

| 参数名       | 类型 | 参数说明    |
| ------------ | ---- | ----------- |
| Measure_Name | str  | 测点名称    |
| Measure_Data | str  | 测点数据    |
| Measure_Unit | str  | 数据单位    |
| Measure_Icon | str  | 测点图标URL |
| Timestamp    | str  | 数据时间    |

#### 6.2获取设备历史记录数据

**URL**

/api_2/devsdatas

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明                                                     |
| --------------- | ---- | -------- | ------------------------------------------------------------ |
| Start_Date      | str  | 否       | 默认当天0点，格式："2019-04-01 13:53:59"，指定timestamp,id时无效 |
| End_Date        | str  | 否       | 默认当前时间，格式："2019-04-01 13:53:59"，指定timestamp,id时无效 |
| Measure_Names   | str  | 否       | 显示测点表，默认所有测点数据，以逗号隔开                     |
| Order_By        | str  | 否       | 默认以TimeStamp排序                                          |
| Order_Way       | str  | 否       | ‘asc’,’desc’,默认asc                                         |
| Limits          | str  | 否       | 数据条数，默认所有                                           |
| Dev_ID          | str  | 是       | 设备id                                                       |
| Per_Page_Counts | int  | 否       | 默认10                                                       |
| Page_Counts     | int  | 否       | 默认0代表所有                                                |
| Timestamp       | str  | 否       | 指定单条数据，格式"2019-04-01 13:53:59"                      |

**返回参数**

| 参数名    | 类型 | 参数说明  |
| --------- | ---- | --------- |
| ......    | str  | 测点1数据 |
| ......    | Str  | 测点2数据 |
| Timestamp | str  | 时间      |

#### 6.3获取设备全天记录数据

**URL**

/api_2/devsdaydatas 获取指定设备的记录

**请求方法**

GET

**请求参数**

| 参数名        | 类型 | 是否必须 | 参数说明                                    |
| ------------- | ---- | -------- | ------------------------------------------- |
| Start_Date    | str  | 否       | 默认当天0点，格式："2019-04-01 00:00:00"，  |
| End_Date      | str  | 否       | 默认当天24点，格式："2019-04-01 23:53:59"， |
| Measure_Names | str  | 否       | 显示测点表，默认所有测点数据，以逗号隔开    |
| Order_By      | str  | 否       | 默认以TimeStamp排序                         |
| Order_Way     | str  | 否       | ‘asc’,’desc’,默认asc                        |
| Dev_ID        | str  | 是       | 设备id                                      |

**返回参数**

| 参数名    | 类型 | 参数说明  |
| --------- | ---- | --------- |
| ......    | str  | 测点1数据 |
| ......    | Str  | 测点2数据 |
| Timestamp | str  | 时间      |

## 7.其他接口

#### 7.1获取报警信息

**URL**

/api_2/alarm_message

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明                        |
| --------------- | ---- | -------- | ------------------------------- |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10          |
| Page_Counts     | str  | 否       | 页码，默认0                     |
| Dev_Name        | str  | 否       | 筛选                            |
| Alarm_Type      | str  | 否       | 筛选                            |
| Alarm_Level     | str  | 否       | 筛选                            |
| State           | str  | 否       | 筛选                            |
| Order_Way       | str  | 否       | ‘asc’:顺序,’desc’:倒序,默认desc |

**返回参数**

| 参数名        | 类型 | 参数说明                         |
| ------------- | ---- | -------------------------------- |
| id            | Int  | 主键                             |
| Dev_Name      | str  | 设备名称                         |
| Alarm_Type    | str  | 报警类型                         |
| Alarm_Content | str  | 报警内容                         |
| Alarm_Level   | Str  | 报警级别                         |
| Alarm_Time    | str  | 报警时间                         |
| State         | str  | 状态:已处理/未处理               |
| Handle_Person | str  | 处理人员                         |
| Process_Mode  | str  | 处理方式                         |
| Process_Time  | Str  | 处理时间                         |
| Alarm_Code    | Str  | 报警码                           |
| Usr_Manager   | Str  | 所属客户经理                     |
| Customer_Name | Str  | 所属客户                         |
| Submitter     | str  | 提交人(发送处理报警时的登录用户) |

#### 7.2处理报警

**URL**

/api_2/alarm_process 

**请求方法**

PUT

**请求参数**

| 参数名        | 类型 | 参数说明 |
| ------------- | ---- | -------- |
| id            | Int  | 主键     |
| Handle_Person | str  | 处理人员 |
| Process_Mode  | str  | 处理方式 |

**返回参数**



#### 7.3获取日志

**URL**

/api_2/userlogs

**请求方法**

GET

**请求参数**

| 参数名          | 类型 | 是否必须 | 参数说明                                 |
| --------------- | ---- | -------- | ---------------------------------------- |
| Per_Page_Counts | str  | 否       | 分页每页显示数，默认10                   |
| Page_Counts     | str  | 否       | 页码，默认0                              |
| Start_Date      | str  | 否       | 默认当天0点，格式："2019-04-01 13:53:59" |
| End_Date        | str  | 否       | 默认当前时间，格式:"2019-04-01 13:53:59" |
| Usr_Name        | str  | 否       | 筛选                                     |
| Module          | str  | 否       | 筛选                                     |
| Result          | str  | 否       | 筛选                                     |
| Order_Way       | str  | 否       | ‘asc’:顺序,’desc’:倒序,默认desc          |

**返回参数**

| 参数名      | 类型 | 参数说明                                                     |
| ----------- | ---- | ------------------------------------------------------------ |
| id          | Int  |                                                              |
| Create_Time | str  | 时间                                                         |
| Usr_Name    | str  | 用户名，可以为空                                             |
| Module      | str  | 操作的模块，分为'用户'、'设备'、'测点'、'数据'、'数据库'，可以为空 |
| Detail      | str  | 详细操作内容，可以为空                                       |
| Result      | str  | 操作结果，共3种'成功'、'异常'、'告警'，不能为空              |
| Message     | Str  | 结果说明                                                     |



Module：用户、设备、客户、项目、测点、角色，报表、权限，

Detail：修改，增加，删除，报表是导出，

如果是修改/增加/删除/测点，则需要把测点名称记录

如果是智能报表，需要记录导出了某个客户经理的报表

如果是详细报表，需要记录导出了某个客户的报表

如果是权限，需要记录修改了哪个用户的权限

 

 

Result：操作结果，'成功','异常'

Message:具体后台返回的err_message内容



#### 7.4获取省市关系

**URL**

/api_2/province_city_list

**请求方法**

GET

**请求参数**

**返回参数**

| 参数名        | 类型 | 参数说明                 |
| ------------- | ---- | ------------------------ |
| Province_Name | str  | 省名                     |
| City_List     | List | [{“City_Name”:”常州市”}] |

****



#### 7.5获取报表信息

**URL**

/api_2/reportForm 

**请求方法**

GET

**请求参数**

| 参数名          | 类型     | 是否必须 | 参数说明                                          |
| --------------- | -------- | -------- | ------------------------------------------------- |
| Date_Type       | str      | 是       | ‘1’-年，‘2’-月，‘3’-天                            |
| Start_Time      | Datetime | 是       | 按天查,精确到小时;按月查,精确到天;看年查,精确到月 |
| End_Time        | Datetime | 是       |                                                   |
| Owner_Type      | str      | 是       | user:客户, dev:设备                               |
| Owner_Name      | Str      | 是       | 多个用’,’相连,传’’表示所有                        |
| Province_Name   | Str      | 否       | 所属省,筛选(客户报表时有效)                       |
| Usr_Manager     | Str      | 否       | 所属客户经理,筛选(客户报表时有效)                 |
| Customer_Name   | Str      | 否       | 所属客户筛选(设备报表时有效)                      |
| Per_Page_Counts | Str      | 是       | 每页显示的条数                                    |
| Page_Counts     | str      | 是       | 页数                                              |

**返回参数**

| 参数名                | 类型 | 参数说明                   |
| --------------------- | ---- | -------------------------- |
| Owner_Name            | Str  | 客户或设备                 |
| Electricity_Save      | str  | 节电量                     |
| Electricity_Save_Fees | str  | 节省电费                   |
| Online_Duration       | str  | 在线时长                   |
| Online_Account        | str  | 在线占比                   |
| Date_Time             | Str  | 数据时间                   |
| Usr_Manager           | Str  | 所属客户经理(客户报表时有) |
| Customer_Name         | Str  | 所属客户(设备报表时有)     |
| Province_Name         | Str  | 省份(客户报表时有)         |



#### 7.6报表导出

**URL**

/api_2/reportForm_excel

**请求方法**

GET

**请求参数**

| 参数名     | 类型     | 是否必须 | 参数说明                                          |
| ---------- | -------- | -------- | ------------------------------------------------- |
| Date_Type  | str      | 是       | ‘1’-年，‘2’-月，‘3’-天                            |
| Start_Time | Datetime | 是       | 按天查,精确到小时;按月查,精确到天;看年查,精确到月 |
| End_Time   | Datetime | 是       |                                                   |

**返回参数**

#### 7.7大屏主要数据配置

**URL**

/api_2/ config_statistics_data

**请求方法**

POST

**请求参数**

| 参数名    | 类型 | 是否必须 | 参数说明 |
| --------- | ---- | -------- | -------- |
| Save_List | str  | 是       |          |

Save_List:[

{

​	"Data_Name":"历史装机总功率",

​	"Data_Amount":"12312"

},

{

​	"Data_Name":"当前客户总数",

​	"Data_Amount":"1231"

},

{

​	"Data_Name":"设备节能模式运行占比",

​	"Data_Amount":"1231"

},

{

​	"Data_Name":"全国节电量基础值",

​	"Data_Amount":"1234"

}

]

返回参数**

#### 7.8大屏主要数据配置

**URL**

/api_2/ config_statistics_data

**请求方法**

GET

**请求参数**

**返回参数**

| 参数名      | 类型 | 是否必须 | 参数说明                                         |
| ----------- | ---- | -------- | ------------------------------------------------ |
| Data_Name   | str  | 是       | 历史装机总功率/当前客户总数/设备节能模式运行占比 |
| Data_Amount | str  | 是       |                                                  |

**返回参数**

#### 7.9空压机参数配置

**URL**

/api_2/air_compressor

**请求方法**

POST

**请求参数**

| 参数名    | 类型     | 是否必须 | 参数说明        |
| --------- | -------- | -------- | --------------- |
| Date_Type | str      | 是       | ‘2’-月，‘3’-天S |
| Date_Time | Datetime | 是       | 日期            |
| Save_List | list     | 是       |                 |

Save_List:[

{

​	"Data_Name":"总节电量",

​	"Data_Amount":""

},

{

​	"Data_Name":"总流量",

​	"Data_Amount":""

},

]

**返回参数**

#### 7.10空压机历史记录

**URL**

/api_2/air_compressor

**请求方法**

GET

**请求参数**

| 参数名     | 类型     | 是否必须 | 参数说明                                      |
| ---------- | -------- | -------- | --------------------------------------------- |
| Date_Type  | str      | 是       | ‘1’-年，‘2’-月                                |
| Start_Time | Datetime | 是       | 按月查,精确到天;看年查,精确到月               |
| End_Time   | Datetime | 是       |                                               |
| Is_Show    | int      | 否       | 0:不显示空数据, 1:显示空数据(大屏使用), 默认0 |

**返回参数**

| 参数名    | 类型 | 参数说明 |
| --------- | ---- | -------- |
| Data_Name | str  | 数据名   |
| Details   | str  | 数据值   |

```json
{"data" :[{

​			"Data_Name":"总流量",

​			"details": [{

​	"Date_Time":"2020-03-21 00:00:00",

​	"Data_Amount":"123123"

},{

​	"Date_Time":'''2020-03-22 00:00:00",

​	"Data_Amount":"123123"

},

{

​	"Data_Name":"总节电量",

​	"details": [{

​	"Date_Time":"2020-03-21 00:00:00",

"Data_Amount":"123123"

},
{

	"Date_Time":"2020-03-22 00:00:00",

	"Data_Amount":"123123"

}

]}
```









## 附录Ⅰ

## 附录Ⅱ

## 附录Ⅲ

## 附录Ⅳ